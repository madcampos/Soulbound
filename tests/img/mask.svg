<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 500 500">
    <defs>
        <mask id="myMask" maskUnits="userSpaceOnUse" x="0" y="0" width="100%" height="100%">
            <rect width="100%" height="100%" fill="white"/>
            <rect width="100" height="100" rx="50" x="100" y="200"/>
        </mask>
        <clipPath id="myClip">
            <circle cx="100" cy="100" r="20"/>
        </clipPath>
    </defs>
    
    <!-- Draw black rectangle in the background -->
    <rect width="20%" height="20%" y="40%" x="20%" mask="url(#myMask)"/>
    <rect y="70%" x="10%" width="20%" height="20%" mask="url(#thisMask)"/>
    <rect y="70%" x="10%" width="20%" height="20%" clip-path="url(#myClip)"/>
    <g>
        <defs>
            <mask id="thisMask">
                <rect width="100%" height="100%" fill="white"/>
                <circle cx="100" cy="400" r="20"/>
            </mask>
        </defs>
        <circle cx="100" cy="400" r="20" fill="red" fill-opacity="0.3"/>
    </g>
</svg>